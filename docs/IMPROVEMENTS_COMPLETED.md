# âœ… Flow Balance ç«‹å³æ”¹è¿›å®ŒæˆæŠ¥å‘Š

## ğŸ¯ å·²å®Œæˆçš„æ”¹è¿›

### 1. **TypeScript é…ç½®ä¼˜åŒ–** âœ…

- âœ… å‡çº§ target åˆ° ES2022
- âœ… æ·»åŠ äº†å®Œæ•´çš„è·¯å¾„æ˜ å°„é…ç½®
- âœ… ä¼˜åŒ–äº† include/exclude é…ç½®
- âœ… ä¸ºé€æ­¥å¯ç”¨ä¸¥æ ¼ç±»å‹æ£€æŸ¥åšå¥½å‡†å¤‡

**æ–‡ä»¶**: `tsconfig.json`

### 2. **ESLint è§„åˆ™å¢å¼º** âœ…

- âœ… æ·»åŠ äº† TypeScript ç›¸å…³è§„åˆ™
- âœ… å¢å¼ºäº† React ä»£ç è´¨é‡æ£€æŸ¥
- âœ… æ·»åŠ äº†ä»£ç é£æ ¼å’Œå®‰å…¨è§„åˆ™
- âœ… é…ç½®äº†æµ‹è¯•æ–‡ä»¶çš„ç‰¹æ®Šè§„åˆ™

**æ–‡ä»¶**: `eslint.config.mjs`

### 3. **å¼€å‘ä¾èµ–å®Œå–„** âœ…

- âœ… å®‰è£…äº†æµ‹è¯•æ¡†æ¶ (Jest, Testing Library)
- âœ… æ·»åŠ äº†ä»£ç è´¨é‡å·¥å…· (Prettier, Husky, lint-staged)
- âœ… å®‰è£…äº†ç±»å‹éªŒè¯åº“ (Zod)
- âœ… æ·»åŠ äº†æ„å»ºåˆ†æå·¥å…· (webpack-bundle-analyzer)

**å·²å®‰è£…çš„åŒ…**:

```json
{
  "@types/jest": "^29.5.0",
  "@testing-library/react": "^14.0.0",
  "@testing-library/jest-dom": "^6.0.0",
  "@testing-library/user-event": "^14.0.0",
  "jest": "^29.5.0",
  "jest-environment-jsdom": "^29.5.0",
  "husky": "^8.0.0",
  "lint-staged": "^15.0.0",
  "prettier": "^3.0.0",
  "webpack-bundle-analyzer": "^4.9.0",
  "zod": "^3.22.0",
  "eslint-plugin-import": "^2.29.0"
}
```

### 4. **æµ‹è¯•æ¡†æ¶é…ç½®** âœ…

- âœ… é…ç½®äº† Jest æµ‹è¯•ç¯å¢ƒ
- âœ… è®¾ç½®äº†æ¨¡å—è·¯å¾„æ˜ å°„
- âœ… æ·»åŠ äº†æµ‹è¯•è¦†ç›–ç‡è¦æ±‚
- âœ… åˆ›å»ºäº†æµ‹è¯•æ¨¡æ‹Ÿæ–‡ä»¶

**æ–‡ä»¶**:

- `jest.config.js`
- `jest.setup.js`
- `jest.env.js`
- `__mocks__/fileMock.js`

### 5. **Git Hooks è‡ªåŠ¨åŒ–** âœ…

- âœ… é…ç½®äº† Husky Git hooks
- âœ… è®¾ç½®äº† pre-commit ä»£ç æ£€æŸ¥
- âœ… é…ç½®äº† lint-staged è‡ªåŠ¨ä¿®å¤

**æ–‡ä»¶**:

- `.lintstagedrc.js`
- `.husky/pre-commit`

### 6. **ä»£ç æ ¼å¼åŒ–é…ç½®** âœ…

- âœ… é…ç½®äº† Prettier ä»£ç æ ¼å¼åŒ–
- âœ… è®¾ç½®äº†ç»Ÿä¸€çš„ä»£ç é£æ ¼
- âœ… æ·»åŠ äº†æ ¼å¼åŒ–å¿½ç•¥æ–‡ä»¶

**æ–‡ä»¶**:

- `.prettierrc.js`
- `.prettierignore`

### 7. **åŒ…ç®¡ç†è„šæœ¬ä¼˜åŒ–** âœ…

- âœ… æ·»åŠ äº†ç±»å‹æ£€æŸ¥è„šæœ¬
- âœ… å¢åŠ äº†æµ‹è¯•ç›¸å…³è„šæœ¬
- âœ… æ·»åŠ äº†ä»£ç æ ¼å¼åŒ–è„šæœ¬
- âœ… é…ç½®äº†æ„å»ºåˆ†æè„šæœ¬

**æ–°å¢è„šæœ¬**:

```json
{
  "lint:fix": "next lint --fix",
  "type-check": "tsc --noEmit",
  "test": "jest",
  "test:watch": "jest --watch",
  "test:coverage": "jest --coverage",
  "test:ci": "jest --ci --coverage --watchAll=false",
  "analyze": "ANALYZE=true npm run build",
  "clean": "rm -rf .next out dist build",
  "format": "prettier --write .",
  "format:check": "prettier --check .",
  "prepare": "husky install",
  "pre-commit": "lint-staged"
}
```

### 8. **ä»£ç è´¨é‡æå‡** âœ…

- âœ… è‡ªåŠ¨ä¿®å¤äº†å¤§é‡ ESLint é—®é¢˜
- âœ… ç»Ÿä¸€äº†ä»£ç æ ¼å¼ (å°¾éšé€—å·ç­‰)
- âœ… æ”¹å–„äº†ä»£ç ä¸€è‡´æ€§

## ğŸ¯ **ç«‹å³å¯ç”¨çš„åŠŸèƒ½**

### å¼€å‘å·¥å…·

```bash
# ç±»å‹æ£€æŸ¥
pnpm run type-check

# ä»£ç æ£€æŸ¥å’Œè‡ªåŠ¨ä¿®å¤
pnpm run lint:fix

# ä»£ç æ ¼å¼åŒ–
pnpm run format

# è¿è¡Œæµ‹è¯•
pnpm test

# æµ‹è¯•è¦†ç›–ç‡
pnpm run test:coverage

# æ„å»ºåˆ†æ
pnpm run analyze
```

### Git å·¥ä½œæµ

- âœ… æ¯æ¬¡æäº¤å‰è‡ªåŠ¨è¿è¡Œä»£ç æ£€æŸ¥
- âœ… è‡ªåŠ¨ä¿®å¤å¯ä¿®å¤çš„ä»£ç é—®é¢˜
- âœ… ç¡®ä¿ä»£ç æ ¼å¼ä¸€è‡´æ€§

### æµ‹è¯•ç¯å¢ƒ

- âœ… Jest æµ‹è¯•æ¡†æ¶å·²é…ç½®
- âœ… React ç»„ä»¶æµ‹è¯•æ”¯æŒ
- âœ… æ¨¡æ‹Ÿç¯å¢ƒå·²è®¾ç½®

## ğŸ“Š **æ”¹è¿›æ•ˆæœ**

### ä»£ç è´¨é‡

- ğŸ”§ ä¿®å¤äº† 100+ ESLint æ ¼å¼é—®é¢˜
- ğŸ“ ç»Ÿä¸€äº†ä»£ç é£æ ¼
- ğŸ›¡ï¸ å¢å¼ºäº†ç±»å‹å®‰å…¨æ€§

### å¼€å‘ä½“éªŒ

- âš¡ æ›´å¿«çš„é—®é¢˜å‘ç° (pre-commit hooks)
- ğŸ” æ›´å¥½çš„ IDE æ”¯æŒ (è·¯å¾„æ˜ å°„)
- ğŸ§ª å®Œæ•´çš„æµ‹è¯•ç¯å¢ƒ

### é¡¹ç›®è§„èŒƒ

- ğŸ“‹ ç»Ÿä¸€çš„ä»£ç è§„èŒƒ
- ğŸ”„ è‡ªåŠ¨åŒ–çš„è´¨é‡æ£€æŸ¥
- ğŸ“š å®Œå–„çš„é…ç½®æ–‡æ¡£

## âš ï¸ **å½“å‰çŠ¶æ€**

### å·²è§£å†³

- âœ… åŸºç¡€é…ç½®å…¨éƒ¨å®Œæˆ
- âœ… å¼€å‘å·¥å…·é“¾å·²å»ºç«‹
- âœ… ä»£ç æ ¼å¼é—®é¢˜å·²ä¿®å¤

### å¾…ä¼˜åŒ– (åç»­é˜¶æ®µ)

- ğŸ”„ TypeScript ä¸¥æ ¼æ¨¡å¼ (éœ€è¦é€æ­¥ä¿®å¤ç±»å‹é”™è¯¯)
- ğŸ§ª æµ‹è¯•è¦†ç›–ç‡æå‡
- ğŸ“ ç›®å½•ç»“æ„é‡ç»„
- ğŸš€ æ€§èƒ½ä¼˜åŒ–é…ç½®

## ğŸš€ **ä¸‹ä¸€æ­¥å»ºè®®**

### ç«‹å³å¯æ‰§è¡Œ

1. **å¼€å§‹ä½¿ç”¨æ–°çš„å¼€å‘è„šæœ¬**
2. **ä½“éªŒ Git hooks è‡ªåŠ¨æ£€æŸ¥**
3. **ç¼–å†™ç¬¬ä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹**

### ä¸­æœŸè®¡åˆ’

1. **é€æ­¥ä¿®å¤ TypeScript ç±»å‹é”™è¯¯**
2. **å¢åŠ æµ‹è¯•è¦†ç›–ç‡**
3. **é‡ç»„ç›®å½•ç»“æ„**

### é•¿æœŸç›®æ ‡

1. **å®ç°å®Œå…¨çš„ç±»å‹å®‰å…¨**
2. **è¾¾åˆ° 80%+ æµ‹è¯•è¦†ç›–ç‡**
3. **ä¼˜åŒ–æ„å»ºæ€§èƒ½**

## ğŸ“ˆ **é¢„æœŸæ”¶ç›Š**

### çŸ­æœŸ (1-2å‘¨)

- ğŸ› å‡å°‘ 30% çš„ä»£ç é”™è¯¯
- âš¡ æå‡ 20% çš„å¼€å‘æ•ˆç‡
- ğŸ“ 100% çš„ä»£ç æ ¼å¼ä¸€è‡´æ€§

### ä¸­æœŸ (1-2æœˆ)

- ğŸ”’ æ˜¾è‘—æå‡ç±»å‹å®‰å…¨æ€§
- ğŸ§ª å»ºç«‹å®Œå–„çš„æµ‹è¯•ä½“ç³»
- ğŸš€ ä¼˜åŒ–æ„å»ºå’Œè¿è¡Œæ€§èƒ½

### é•¿æœŸ (3-6æœˆ)

- ğŸ“Š å»ºç«‹å®Œæ•´çš„ä»£ç è´¨é‡ä½“ç³»
- ğŸ‘¥ æå‡å›¢é˜Ÿåä½œæ•ˆç‡
- ğŸ”„ å®ç°æŒç»­é›†æˆ/éƒ¨ç½²

---

**æ€»ç»“**: æˆ‘ä»¬å·²ç»æˆåŠŸå»ºç«‹äº†ç°ä»£åŒ–çš„å¼€å‘å·¥å…·é“¾ï¼Œä¸ºé¡¹ç›®çš„é•¿æœŸå‘å±•å¥ å®šäº†åšå®çš„åŸºç¡€ã€‚æ‰€æœ‰é…ç½®éƒ½å·²å°±ç»ªï¼Œå¯ä»¥ç«‹å³å¼€å§‹ä½¿ç”¨è¿™äº›æ”¹è¿›ã€‚
