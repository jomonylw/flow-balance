# 分类名称修改功能测试

## 测试目标
验证分类设置模态框中的名称修改功能是否正常工作

## 测试步骤

### 1. 基本名称修改测试
1. 打开应用 (http://localhost:3001)
2. 登录到系统
3. 在左侧树状菜单中，右键点击任意分类
4. 选择"设置"选项
5. 在弹出的设置模态框中，确认：
   - [ ] 分类名称字段显示为可编辑的输入框（不是只读的灰色框）
   - [ ] 输入框中显示当前分类的名称
   - [ ] 可以正常选中和编辑文本

### 2. 名称修改保存测试
1. 在分类设置模态框中修改分类名称
2. 点击"保存"按钮
3. 确认：
   - [ ] 保存成功，模态框关闭
   - [ ] 左侧树状菜单中的分类名称已更新
   - [ ] 没有出现错误提示

### 3. 名称验证测试
1. 尝试将分类名称设置为空（删除所有文字）
2. 点击"保存"按钮
3. 确认：
   - [ ] 保存被阻止（不会关闭模态框）
   - [ ] 显示适当的验证错误信息

### 4. 取消修改测试
1. 修改分类名称
2. 点击"取消"按钮
3. 确认：
   - [ ] 模态框关闭
   - [ ] 分类名称没有被修改（保持原来的名称）

### 5. 不同类型分类测试
分别测试以下类型的分类：
- [ ] 顶级资产分类
- [ ] 顶级负债分类  
- [ ] 顶级收入分类
- [ ] 顶级支出分类
- [ ] 子分类

确认所有类型的分类都能正常修改名称。

## 预期结果

✅ **成功标准**：
- 分类名称字段显示为可编辑的输入框
- 可以正常修改和保存分类名称
- 修改后的名称立即在界面中更新
- 空名称会被验证阻止
- 取消操作不会保存修改

❌ **如果出现以下情况则表示有问题**：
- 分类名称显示为只读的灰色框
- 无法编辑分类名称
- 修改后保存失败
- 界面没有更新新的名称
- 可以保存空名称

## 技术验证

### 前端组件检查
- `CategorySettingsModal.tsx` 中应该有：
  - `name` 状态变量
  - 可编辑的 input 元素
  - `setName` 更新函数
  - `handleSave` 中包含名称更新逻辑

### API调用检查
- 保存时应该调用 `/api/categories/[categoryId]` PUT 请求
- 请求体应该包含更新的 `name` 字段

## 注意事项
- 测试时请使用不同的分类进行验证
- 注意观察是否有任何控制台错误
- 确认国际化文本正常显示
- 测试在不同主题（明亮/暗黑）下的显示效果
